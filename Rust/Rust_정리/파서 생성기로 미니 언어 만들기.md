러스트 크레이트를 사용해 미니 언어를 만들고 파싱할 수 있다.
자유롭게 매크로를 정의할 수 있는 러스트에서라면 간단히 고속 처리를 할 수 있는 미니 언어를 만들 수 있다.
rust-peg를 이용해 미니 언어를 만들어 본다.

## 왜 언어를 직접 만드는가
많은 언어에는 JSON이나 XML 같은 잘 알려진 데이터 포맷을 다루는 다양한 라이브러리가 있다. 하지만 모든 타입의 데이터를 언제나 편리하게 다룰 수 있는 것은 아니다. 때에 따라서는 독자적이 ㄴ데이터 형식을 다뤄야 할 수도 있다.

이럴 때 사용되는 것이 구문 분석 표현 문법이다. (PEG: Parsing Expression Grammar)
그리고 구문 분석 생성기는 문법을 정의해두고 그 정의를 바탕으로 컴파일러를만들어내는 도구를 말한다.
컴파일러를 만드는 컴파일러라고도 한다.
유명한 구문 분석 생성기로는 yacc가 있다. 많은 프로그래밍 언어는 이런 구문 분석 생성기를 통해 개발된다.

### 러스트의 유명 구문 분석 생성기
러스트에도 텍스트 데이터나 바이너리 데이터를 파싱할 수 있는 구문 분석 생성기가 있다. 이중 유명한 것은 다음과 같다. 

| nom     | 매크로로 구문 규칙을 지정할 수 있는 구문 분석 생성기, 바이너리 분석도 가능  |
| ------- | -------------------------------------------- |
| lalrpop | yacc, ANTLR, Menhir 같은 유명한 도구를 모방한 구문 분석 생성기 |
| combine | Haskell의 Parsec을 참고해 만든 LL문법용 구문 분석 생성기      |
| peg     | PEG 문법으로 구문 정의를 할 수 있는 구문 분석 생성기             |
이 4개의 구문 분석 생성기는 모두 효율 좋은 구문 분석 생성기지만 여기서는 미니 언어를 만드는 것이 목적이므로 비교적 자유도가 높은 peg를 이용한다.

### PEG
PEG 형식 문법(Formal Grammar)의 한 종류로 BNF와 비슷한 문법으로 구문 분석 생성기의 문법을 정의할 수 있는 표기법이다. crates.io에 공개된 peg 크레이트는 소스코드 안에 매크로를 지정해 PEG 문법을 사용할 수 있다. 쉽게 자신만의 언어를 만들 수 있어 편리하게 사용할 수 있다.

// 이후는 필요할때 다시 보는 것으로 대체함
